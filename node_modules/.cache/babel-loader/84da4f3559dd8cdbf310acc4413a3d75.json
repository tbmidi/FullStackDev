{"ast":null,"code":"import { computed, onMounted, ref } from 'vue';\nimport { useStore } from 'vuex';\nexport default {\n  setup() {\n    const store = useStore();\n    const searchTerm = ref('');\n    const isLoggedIn = computed(() => {\n      return store.getters['auth/isLoggedIn'];\n    });\n    const cartCount = computed(() => {\n      return store.getters['cart/cartCount'];\n    });\n    const cartTotal = computed(() => {\n      return store.getters['cart/cartTotal'];\n    });\n    const products = computed(() => {\n      return store.state.product.products;\n    });\n    const searchProducts = computed(() => {\n      if (searchTerm.value === '') {\n        return [];\n      }\n\n      let matches = 0;\n      return products.value.filter(product => {\n        if (product.title.toLowerCase().includes(searchTerm.value.toLowerCase()) && matches < 10) {\n          matches++;\n          return product;\n        }\n      });\n    });\n\n    const selectProduct = () => {\n      searchTerm.value = '';\n    };\n\n    onMounted(() => {\n      const token = store.state.auth.token;\n\n      if (!token) {\n        return;\n      }\n\n      store.dispatch('cart/cartCount');\n      store.dispatch('cart/cartTotal');\n      store.dispatch('product/getProducts');\n    });\n    return {\n      store,\n      searchTerm,\n      isLoggedIn,\n      cartCount,\n      cartTotal,\n      products,\n      searchProducts,\n      selectProduct\n    };\n  }\n\n};","map":{"version":3,"mappings":"AAqFA,SAASA,QAAT,EAAmBC,SAAnB,EAA8BC,GAA9B,QAAyC,KAAzC;AACA,SAASC,QAAT,QAAyB,MAAzB;AAEA,eAAe;AACXC,OAAK,GAAG;AACJ,UAAMC,KAAI,GAAIF,QAAQ,EAAtB;AAEA,UAAMG,UAAS,GAAIJ,GAAG,CAAC,EAAD,CAAtB;AAEA,UAAMK,UAAS,GAAIP,QAAQ,CAAC,MAAM;AAC9B,aAAOK,KAAK,CAACG,OAAN,CAAc,iBAAd,CAAP;AACH,KAF0B,CAA3B;AAIA,UAAMC,SAAQ,GAAIT,QAAQ,CAAC,MAAM;AAC7B,aAAOK,KAAK,CAACG,OAAN,CAAc,gBAAd,CAAP;AACH,KAFyB,CAA1B;AAIA,UAAME,SAAQ,GAAIV,QAAQ,CAAC,MAAM;AAC7B,aAAOK,KAAK,CAACG,OAAN,CAAc,gBAAd,CAAP;AACH,KAFyB,CAA1B;AAIA,UAAMG,QAAO,GAAIX,QAAQ,CAAC,MAAM;AAC5B,aAAOK,KAAK,CAACO,KAAN,CAAYC,OAAZ,CAAoBF,QAA3B;AACH,KAFwB,CAAzB;AAIA,UAAMG,cAAa,GAAId,QAAQ,CAAC,MAAM;AAClC,UAAIM,UAAU,CAACS,KAAX,KAAqB,EAAzB,EAA6B;AACzB,eAAO,EAAP;AACJ;;AACA,UAAIC,OAAM,GAAI,CAAd;AACA,aAAOL,QAAQ,CAACI,KAAT,CAAeE,MAAf,CAAsBJ,OAAM,IAAK;AACpC,YAAIA,OAAO,CAACK,KAAR,CAAcC,WAAd,GAA4BC,QAA5B,CAAqCd,UAAU,CAACS,KAAX,CAAiBI,WAAjB,EAArC,KAAwEH,OAAM,GAAI,EAAtF,EAA0F;AACtFA,iBAAO;AACP,iBAAOH,OAAP;AACJ;AACH,OALM,CAAP;AAMH,KAX8B,CAA/B;;AAaA,UAAMQ,aAAY,GAAI,MAAM;AACxBf,gBAAU,CAACS,KAAX,GAAmB,EAAnB;AACJ,KAFA;;AAIAd,aAAS,CAAC,MAAM;AACZ,YAAMqB,KAAI,GAAIjB,KAAK,CAACO,KAAN,CAAYW,IAAZ,CAAiBD,KAA/B;;AAEA,UAAI,CAACA,KAAL,EAAY;AACR;AACJ;;AAEAjB,WAAK,CAACmB,QAAN,CAAe,gBAAf;AACAnB,WAAK,CAACmB,QAAN,CAAe,gBAAf;AAEAnB,WAAK,CAACmB,QAAN,CAAe,qBAAf;AACH,KAXQ,CAAT;AAaA,WAAO;AACHnB,WADG;AAEHC,gBAFG;AAGHC,gBAHG;AAIHE,eAJG;AAKHC,eALG;AAMHC,cANG;AAOHG,oBAPG;AAQHO;AARG,KAAP;AAUJ;;AA9DW,CAAf","names":["computed","onMounted","ref","useStore","setup","store","searchTerm","isLoggedIn","getters","cartCount","cartTotal","products","state","product","searchProducts","value","matches","filter","title","toLowerCase","includes","selectProduct","token","auth","dispatch"],"sourceRoot":"","sources":["/Users/benmehidilarbi/Desktop/online-shop-main/src/components/Header.vue"],"sourcesContent":["<template>\n    <header class=\"section-header top-0\">\n        <section class=\"header-main\">\n            <div class=\"container-fluid\">\n                <div class=\"row align-items-center\">\n                    <div class=\"col-md-3 col-7\">\n                        <router-link\n                            :to=\"{ name: 'home' }\"\n                            class=\"text-decoration-none\"\n                            data-abc=\"true\"\n                        >\n                            <span class=\"logo\" style=\"font-size: 22px;\">\n                                <i class=\"fa fa-apple-alt\"></i> Apple Store\n                            </span>\n                        </router-link>\n                    </div>\n                    <div class=\"col-md-5 d-none d-md-block\">\n                        <form class=\"search-wrap\">\n                            <div class=\"input-group w-100\">\n                                <input\n                                    type=\"text\"\n                                    class=\"form-control search-form\"\n                                    style=\"width:55%;border: 1px solid #ffffff\"\n                                    v-model=\"searchTerm\"\n                                    placeholder=\"What do you want to buy today?\"\n                                />\n                                <div class=\"input-group-append\">\n                                    <button class=\"btn search-button\" type=\"submit\">\n                                        <i class=\"fa fa-search\"></i>\n                                    </button>\n                                </div>\n                            </div>\n                        </form>\n                        <div v-if=\"searchProducts.length > 0\" class=\"autocomplete-products\">\n                            <router-link\n                                v-for=\"product in searchProducts\"\n                                :key=\"product.id\"\n                                @click=\"selectProduct()\"\n                                :to=\"{ name: 'detail_product', params: { slug: product.slug } }\"\n                                class=\"autocomplete-product\"\n                            >\n                                <i class=\"fa fa-search me-1\"></i>\n                                {{ product.title }}\n                            </router-link>\n                        </div>\n                    </div>\n                    <div class=\"col-md-4 col-5\">\n                        <div class=\"d-flex justify-content-end\">\n                            <div class=\"cart-header\">\n                                <router-link\n                                    :to=\"{ name: 'cart' }\"\n                                    class=\"btn cart-button btn-md\"\n                                    style=\"color: #ffffff;background-color: #6677ef;border-color: #ffffff;\"\n                                >\n                                    <i class=\"fa fa-shopping-cart me-1\"></i>\n                                    <span\n                                        v-if=\"cartCount >= 1\"\n                                    >{{ cartCount }} | {{ moneyFormat(cartTotal) }}$</span>\n                                </router-link>\n                            </div>\n                            <div class=\"account\">\n                                <router-link\n                                    :to=\"{ name: 'login' }\"\n                                    v-if=\"!isLoggedIn\"\n                                    class=\"btn search-button btn-md d-none d-md-block ms-3\"\n                                >\n                                    <i class=\"fa fa-user-circle\"></i> Account\n                                </router-link>\n                                <router-link\n                                    :to=\"{ name: 'dashboard' }\"\n                                    v-else\n                                    class=\"btn search-button btn-md d-none d-md-block ms-3\"\n                                >\n                                    <i class=\"fa fa-tachometer-alt\"></i> Dashboard\n                                </router-link>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </section>\n    </header>\n</template>\n\n<script>\nimport { computed, onMounted, ref } from 'vue'\nimport { useStore } from 'vuex'\n\nexport default {\n    setup() {\n        const store = useStore()\n\n        const searchTerm = ref('')\n\n        const isLoggedIn = computed(() => {\n            return store.getters['auth/isLoggedIn']\n        })\n\n        const cartCount = computed(() => {\n            return store.getters['cart/cartCount']\n        })\n\n        const cartTotal = computed(() => {\n            return store.getters['cart/cartTotal']\n        })\n\n        const products = computed(() => {\n            return store.state.product.products\n        })\n\n        const searchProducts = computed(() => {\n            if (searchTerm.value === '') {\n                return []\n            }\n            let matches = 0\n            return products.value.filter(product => {\n                if (product.title.toLowerCase().includes(searchTerm.value.toLowerCase()) && matches < 10) {\n                    matches++\n                    return product\n                }\n            })\n        });\n\n        const selectProduct = () => {\n            searchTerm.value = ''\n        }\n\n        onMounted(() => {\n            const token = store.state.auth.token\n\n            if (!token) {\n                return\n            }\n\n            store.dispatch('cart/cartCount')\n            store.dispatch('cart/cartTotal')\n\n            store.dispatch('product/getProducts')\n        })\n\n        return {\n            store,\n            searchTerm,\n            isLoggedIn,\n            cartCount,\n            cartTotal,\n            products,\n            searchProducts,\n            selectProduct\n        }\n    }\n}\n</script>\n\n<style scoped>\n.autocomplete-products {\n    width: 40%;\n    background-color: #ffffff;\n    padding: 20px;\n    margin-top: 5px;\n    position: absolute;\n    z-index: 10;\n    border-radius: 5px;\n}\n\n.autocomplete-product {\n    display: block;\n    text-decoration: none;\n    color: #000000b3;\n    padding: 10px 8px;\n    cursor: pointer;\n    border-radius: 5px;\n}\n\n.autocomplete-product:hover {\n    background-color: #f3f4f5;\n}\n</style>"]},"metadata":{},"sourceType":"module"}