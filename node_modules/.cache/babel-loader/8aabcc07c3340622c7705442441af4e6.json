{"ast":null,"code":"import { computed, onMounted } from 'vue';\nimport { useStore } from 'vuex';\nimport { useRoute, useRouter } from 'vue-router';\nimport { ContentLoader } from \"vue-content-loader\";\nexport default {\n  components: {\n    ContentLoader\n  },\n\n  setup() {\n    const route = useRoute();\n    const router = useRouter();\n    const store = useStore();\n    onMounted(() => {\n      store.dispatch('product/getDetailProduct', route.params.slug);\n    });\n    const product = computed(() => {\n      return store.state.product.product;\n    });\n    const isLoading = computed(() => {\n      return store.state.product.isLoading;\n    });\n\n    const addToCart = (product_id, price, weight) => {\n      const token = store.state.auth.token;\n\n      if (!token) {\n        return router.push({\n          name: 'login'\n        });\n      }\n\n      store.dispatch('cart/addToCart', {\n        product_id: product_id,\n        price: price,\n        weight: weight,\n        quantity: 1\n      });\n    };\n\n    return {\n      route,\n      router,\n      store,\n      product,\n      isLoading,\n      addToCart\n    };\n  }\n\n};","map":{"version":3,"mappings":"AAgGA,SAASA,QAAT,EAAmBC,SAAnB,QAAoC,KAApC;AACA,SAASC,QAAT,QAAyB,MAAzB;AACA,SAASC,QAAT,EAAmBC,SAAnB,QAAoC,YAApC;AACA,SAASC,aAAT,QAA8B,oBAA9B;AAEA,eAAe;AACXC,YAAU,EAAE;AAAED;AAAF,GADD;;AAEXE,OAAK,GAAG;AACJ,UAAMC,KAAI,GAAIL,QAAQ,EAAtB;AAEA,UAAMM,MAAK,GAAIL,SAAS,EAAxB;AAEA,UAAMM,KAAI,GAAIR,QAAQ,EAAtB;AAEAD,aAAS,CAAC,MAAM;AACZS,WAAK,CAACC,QAAN,CAAe,0BAAf,EAA2CH,KAAK,CAACI,MAAN,CAAaC,IAAxD;AACH,KAFQ,CAAT;AAIA,UAAMC,OAAM,GAAId,QAAQ,CAAC,MAAM;AAC3B,aAAOU,KAAK,CAACK,KAAN,CAAYD,OAAZ,CAAoBA,OAA3B;AACH,KAFuB,CAAxB;AAIA,UAAME,SAAQ,GAAIhB,QAAQ,CAAC,MAAM;AAC7B,aAAOU,KAAK,CAACK,KAAN,CAAYD,OAAZ,CAAoBE,SAA3B;AACH,KAFyB,CAA1B;;AAIA,UAAMC,SAAQ,GAAI,CAACC,UAAD,EAAaC,KAAb,EAAoBC,MAApB,KAA+B;AAC7C,YAAMC,KAAI,GAAIX,KAAK,CAACK,KAAN,CAAYO,IAAZ,CAAiBD,KAA/B;;AAEA,UAAI,CAACA,KAAL,EAAY;AACR,eAAOZ,MAAM,CAACc,IAAP,CAAY;AAAEC,cAAI,EAAE;AAAR,SAAZ,CAAP;AACJ;;AAEAd,WAAK,CAACC,QAAN,CAAe,gBAAf,EAAiC;AAC7BO,kBAAU,EAAEA,UADiB;AAE7BC,aAAK,EAAEA,KAFsB;AAG7BC,cAAM,EAAEA,MAHqB;AAI7BK,gBAAQ,EAAE;AAJmB,OAAjC;AAMJ,KAbA;;AAeA,WAAO;AACHjB,WADG;AAEHC,YAFG;AAGHC,WAHG;AAIHI,aAJG;AAKHE,eALG;AAMHC;AANG,KAAP;AAQJ;;AA5CW,CAAf","names":["computed","onMounted","useStore","useRoute","useRouter","ContentLoader","components","setup","route","router","store","dispatch","params","slug","product","state","isLoading","addToCart","product_id","price","weight","token","auth","push","name","quantity"],"sourceRoot":"","sources":["/Users/benmehidilarbi/Desktop/online-shop-main/src/views/product/Show.vue"],"sourcesContent":["<template>\n    <div class=\"container mt-5 mb-5\">\n        <div class=\"row\" v-if=\"isLoading\">\n            <div class=\"col-12 d-none d-md-block\">\n                <div class=\"card border-0 rounded shadow\">\n                    <content-loader\n                        viewBox=\"0 0 420 135\"\n                        :speed=\"2\"\n                        primaryColor=\"#f3f3f3\"\n                        secondaryColor=\"#ecebeb\"\n                    >\n                        <rect x=\"5\" y=\"7\" rx=\"3\" ry=\"3\" width=\"130\" height=\"120\" />\n                        <rect x=\"146\" y=\"7\" rx=\"3\" ry=\"3\" width=\"85\" height=\"13\" />\n                        <rect x=\"146\" y=\"34\" rx=\"3\" ry=\"3\" width=\"50\" height=\"7\" />\n                        <rect x=\"200\" y=\"34\" rx=\"3\" ry=\"3\" width=\"30\" height=\"7\" />\n                        <rect x=\"146\" y=\"52\" rx=\"3\" ry=\"3\" width=\"63\" height=\"7\" />\n                        <rect x=\"146\" y=\"69\" rx=\"3\" ry=\"3\" width=\"155\" height=\"7\" />\n                        <rect x=\"146\" y=\"88\" rx=\"3\" ry=\"3\" width=\"40\" height=\"7\" />\n                        <rect x=\"190\" y=\"88\" rx=\"3\" ry=\"3\" width=\"40\" height=\"7\" />\n                        <rect x=\"146\" y=\"109\" rx=\"3\" ry=\"3\" width=\"267\" height=\"18\" />\n                    </content-loader>\n                </div>\n            </div>\n            <div class=\"col-12 d-block d-sm-block d-md-none\">\n                <div class=\"card border-0 rounded shadow\">\n                    <content-loader\n                        viewBox=\"0 0 450 700\"\n                        :speed=\"2\"\n                        primaryColor=\"#f3f3f3\"\n                        secondaryColor=\"#ecebeb\"\n                    >\n                        <rect x=\"15\" y=\"15\" rx=\"5\" ry=\"5\" width=\"420\" height=\"290\" />\n                        <rect x=\"15\" y=\"336\" rx=\"5\" ry=\"5\" width=\"350\" height=\"42\" />\n                        <rect x=\"15\" y=\"395\" rx=\"5\" ry=\"5\" width=\"150\" height=\"25\" />\n                        <rect x=\"180\" y=\"395\" rx=\"5\" ry=\"5\" width=\"100\" height=\"25\" />\n                        <rect x=\"15\" y=\"445\" rx=\"5\" ry=\"5\" width=\"200\" height=\"30\" />\n                        <rect x=\"15\" y=\"505\" rx=\"5\" ry=\"5\" width=\"400\" height=\"25\" />\n                        <rect x=\"15\" y=\"560\" rx=\"5\" ry=\"5\" width=\"110\" height=\"25\" />\n                        <rect x=\"140\" y=\"560\" rx=\"5\" ry=\"5\" width=\"110\" height=\"25\" />\n                        <rect x=\"15\" y=\"620\" rx=\"5\" ry=\"5\" width=\"420\" height=\"50\" />\n                    </content-loader>\n                </div>\n            </div>\n        </div>\n        <div class=\"row\" v-else>\n            <div class=\"col-md-4\">\n                <div class=\"card border-0 rounded-3 shadow\">\n                    <div class=\"card-body p-2\">\n                        <img :src=\"product.image\" class=\"w-100 border-0 rounded\" />\n                    </div>\n                </div>\n            </div>\n            <div class=\"col-md-8\">\n                <div class=\"card border-0 rounded shadow\">\n                    <div class=\"card-body\">\n                        <label class=\"fw-bold\" style=\"font-size: 20px;\">{{ product.title }}</label>\n                        <hr style=\"border-top: 1px solid rgb(0 0 0);border-radius:.5rem\" />\n                        <div\n                            class=\"discount mt-2 text-danger d-flex align-items-center\"\n                            v-if=\"product.discount > 0\"\n                        >\n                            <s> {{ moneyFormat(product.price) }}$</s>\n                            <span\n                                style=\"background-color: darkorange\"\n                                class=\"badge badge-pill badge-success text-white ms-2\"\n                            >\n                                Discount\n                                {{ product.discount }} %\n                            </span>\n                        </div>\n                        <div\n                            class=\"price fw-bold mt-3\"\n                            style=\"color: #47b04b;font-size:18px\"\n                        >{{ moneyFormat(calculateDiscount(product)) }}$</div>\n                        <p class=\"content mt-3\" v-html=\"product.content\"></p>\n                        <div class=\"weight\">\n                            <label class=\"fw-bold me-5\">Weight</label>\n                            <label>\n                                <span class=\"fw-bold\">{{ product.weight }}</span> gram\n                            </label>\n                        </div>\n                        <hr style=\"border-top: 1px solid rgb(0 0 0);border-radius:.5rem\" />\n                        <button\n                            @click.prevent=\"addToCart(product.id, calculateDiscount(product), product.weight)\"\n                            class=\"btn btn-primary btn-lg w-100\"\n                        >\n                            <i class=\"fa fa-shopping-cart\"></i> Add to Cart\n                        </button>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport { computed, onMounted } from 'vue'\nimport { useStore } from 'vuex'\nimport { useRoute, useRouter } from 'vue-router'\nimport { ContentLoader } from \"vue-content-loader\"\n\nexport default {\n    components: { ContentLoader },\n    setup() {\n        const route = useRoute()\n\n        const router = useRouter()\n\n        const store = useStore()\n\n        onMounted(() => {\n            store.dispatch('product/getDetailProduct', route.params.slug)\n        })\n\n        const product = computed(() => {\n            return store.state.product.product\n        })\n\n        const isLoading = computed(() => {\n            return store.state.product.isLoading\n        })\n\n        const addToCart = (product_id, price, weight) => {\n            const token = store.state.auth.token\n\n            if (!token) {\n                return router.push({ name: 'login' })\n            }\n\n            store.dispatch('cart/addToCart', {\n                product_id: product_id,\n                price: price,\n                weight: weight,\n                quantity: 1\n            })\n        }\n\n        return {\n            route,\n            router,\n            store,\n            product,\n            isLoading,\n            addToCart,\n        }\n    }\n}\n</script>"]},"metadata":{},"sourceType":"module"}