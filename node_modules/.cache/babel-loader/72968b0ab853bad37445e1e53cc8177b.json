{"ast":null,"code":"import Api from \"../../api/Api\";\nimport Swal from 'sweetalert2';\nconst cart = {\n  namespaced: true,\n  state: {\n    cart: [],\n    cartTotal: 0,\n    cartWeight: 0\n  },\n  mutations: {\n    GET_CART(state, product) {\n      state.cart = product;\n    },\n\n    TOTAL_CART(state, total) {\n      state.cartTotal = total;\n    },\n\n    CART_WEIGHT(state, weight) {\n      state.cartWeight = weight;\n    },\n\n    CLEAR_CART(state) {\n      state.cart = [];\n      state.cartTotal = 0;\n      state.cartWeight = 0;\n    }\n\n  },\n  actions: {\n    addToCart({\n      commit\n    }, {\n      product_id,\n      price,\n      quantity,\n      weight\n    }) {\n      const token = localStorage.getItem('token');\n      const user = JSON.parse(localStorage.getItem('user'));\n      Api.defaults.headers.common['Authorization'] = `Bearer ${token}`;\n      Swal.fire({\n        title: 'Loading...',\n        text: 'Silahkan tunggu beberapa saat!',\n        icon: \"info\",\n        allowEscapeKey: false,\n        allowOutsideClick: false,\n        didOpen: () => {\n          Swal.showLoading();\n        }\n      });\n      Api.post('/cart', {\n        product_id: product_id,\n        price: price,\n        quantity: quantity,\n        weight: weight,\n        customer_id: user.id\n      }).then(() => {\n        Api.get('/cart').then(response => {\n          commit('GET_CART', response.data.cart);\n        });\n        Api.get('/cart/total').then(response => {\n          commit('TOTAL_CART', response.data.total);\n        });\n        Swal.close();\n        Swal.fire({\n          title: \"Success\",\n          text: \"Produk ditambahkan ke keranjang.\",\n          icon: \"success\",\n          showConfirmButton: false,\n          timer: 1500\n        });\n      });\n    },\n\n    cartCount({\n      commit\n    }) {\n      const token = localStorage.getItem('token');\n      Api.defaults.headers.common['Authorization'] = `Bearer ${token}`;\n      Api.get('/cart').then(response => {\n        commit('GET_CART', response.data.cart);\n      });\n    },\n\n    cartTotal({\n      commit\n    }) {\n      const token = localStorage.getItem('token');\n      Api.defaults.headers.common['Authorization'] = `Bearer ${token}`;\n      Api.get('/cart/total').then(response => {\n        commit('TOTAL_CART', response.data.total);\n      });\n    },\n\n    cartWeight({\n      commit\n    }) {\n      const token = localStorage.getItem('token');\n      Api.defaults.headers.common['Authorization'] = `Bearer ${token}`;\n      Api.get('/cart/totalWeight').then(response => {\n        commit('CART_WEIGHT', response.data.total);\n      });\n    },\n\n    removeCart({\n      commit\n    }, cart_id) {\n      const token = localStorage.getItem('token');\n      Api.defaults.headers.common['Authorization'] = `Bearer ${token}`;\n      Swal.fire({\n        title: 'Loading...',\n        text: 'Silahkan tunggu beberapa saat!',\n        icon: \"info\",\n        allowEscapeKey: false,\n        allowOutsideClick: false,\n        didOpen: () => {\n          Swal.showLoading();\n        }\n      });\n      Api.post('/cart/remove', {\n        cart_id: cart_id\n      }).then(() => {\n        Api.get('/cart').then(response => {\n          commit('GET_CART', response.data.cart);\n        });\n        Api.get('/cart/total').then(response => {\n          commit('TOTAL_CART', response.data.total);\n        });\n        Api.get('/cart/totalWeight').then(response => {\n          commit('CART_WEIGHT', response.data.total);\n        });\n        Swal.close();\n        Swal.fire({\n          title: \"Success\",\n          text: \"Produk dihapus dari keranjang.\",\n          icon: \"success\",\n          showConfirmButton: false,\n          timer: 1500\n        });\n      });\n    },\n\n    checkout({\n      commit\n    }, data) {\n      return new Promise((resolve, reject) => {\n        Api.post('/checkout', {\n          courier: data.courier_type,\n          service: data.courier_service,\n          cost: data.courier_cost,\n          weight: data.weight,\n          name: data.name,\n          phone: data.phone,\n          province: data.province_id,\n          city: data.city_id,\n          address: data.address,\n          grand_total: data.grandTotal\n        }).then(response => {\n          resolve(response.data);\n          Api.post('/cart/removeAll').then(() => {\n            commit('CLEAR_CART');\n          }).catch(error => {\n            console.log(error);\n          });\n        }).catch(error => {\n          reject(error);\n        });\n      });\n    }\n\n  },\n  getters: {\n    getCart(state) {\n      return state.cart;\n    },\n\n    cartCount(state) {\n      return state.cart.length;\n    },\n\n    cartTotal(state) {\n      return state.cartTotal;\n    }\n\n  }\n};\nexport default cart;","map":{"version":3,"sources":["/Users/benmehidilarbi/Desktop/online-shop-main/src/store/module/cart.js"],"names":["Api","Swal","cart","namespaced","state","cartTotal","cartWeight","mutations","GET_CART","product","TOTAL_CART","total","CART_WEIGHT","weight","CLEAR_CART","actions","addToCart","commit","product_id","price","quantity","token","localStorage","getItem","user","JSON","parse","defaults","headers","common","fire","title","text","icon","allowEscapeKey","allowOutsideClick","didOpen","showLoading","post","customer_id","id","then","get","response","data","close","showConfirmButton","timer","cartCount","removeCart","cart_id","checkout","Promise","resolve","reject","courier","courier_type","service","courier_service","cost","courier_cost","name","phone","province","province_id","city","city_id","address","grand_total","grandTotal","catch","error","console","log","getters","getCart","length"],"mappings":"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","sourcesContent":["import Api from \"../../api/Api\"\nimport Swal from 'sweetalert2'\n\nconst cart = {\n    namespaced: true,\n\n    state: {\n        cart: [],\n        cartTotal: 0,\n        cartWeight: 0,\n    },\n\n    mutations: {\n        GET_CART(state, product) {\n            state.cart = product\n        },\n        TOTAL_CART(state, total) {\n            state.cartTotal = total\n        },\n        CART_WEIGHT(state, weight) {\n            state.cartWeight = weight\n        },\n        CLEAR_CART(state) {\n            state.cart = []\n            state.cartTotal = 0\n            state.cartWeight = 0\n        },\n    },\n\n    actions: {\n        addToCart({ commit }, { product_id, price, quantity, weight }) {\n            const token = localStorage.getItem('token')\n            const user = JSON.parse(localStorage.getItem('user'))\n\n            Api.defaults.headers.common['Authorization'] = `Bearer ${token}`\n\n            Swal.fire({\n                title: 'Loading...',\n                text: 'Silahkan tunggu beberapa saat!',\n                icon: \"info\",\n                allowEscapeKey: false,\n                allowOutsideClick: false,\n                didOpen: () => {\n                    Swal.showLoading()\n                }\n            })\n            Api.post('/cart', {\n                product_id: product_id,\n                price: price,\n                quantity: quantity,\n                weight: weight,\n                customer_id: user.id\n            })\n                .then(() => {\n                    Api.get('/cart')\n                        .then(response => {\n                            commit('GET_CART', response.data.cart)\n                        })\n\n                    Api.get('/cart/total')\n                        .then(response => {\n                            commit('TOTAL_CART', response.data.total)\n                        })\n\n                    Swal.close()\n                    Swal.fire({\n                        title: \"Success\",\n                        text: \"Produk ditambahkan ke keranjang.\",\n                        icon: \"success\",\n                        showConfirmButton: false,\n                        timer: 1500\n                    });\n                })\n        },\n        cartCount({ commit }) {\n            const token = localStorage.getItem('token')\n\n            Api.defaults.headers.common['Authorization'] = `Bearer ${token}`\n\n            Api.get('/cart')\n                .then(response => {\n                    commit('GET_CART', response.data.cart)\n                })\n        },\n        cartTotal({ commit }) {\n            const token = localStorage.getItem('token')\n\n            Api.defaults.headers.common['Authorization'] = `Bearer ${token}`\n\n            Api.get('/cart/total')\n                .then(response => {\n                    commit('TOTAL_CART', response.data.total)\n                })\n        },\n        cartWeight({ commit }) {\n            const token = localStorage.getItem('token')\n\n            Api.defaults.headers.common['Authorization'] = `Bearer ${token}`\n\n            Api.get('/cart/totalWeight')\n                .then(response => {\n                    commit('CART_WEIGHT', response.data.total)\n                })\n        },\n        removeCart({ commit }, cart_id) {\n            const token = localStorage.getItem('token')\n\n            Api.defaults.headers.common['Authorization'] = `Bearer ${token}`\n\n            Swal.fire({\n                title: 'Loading...',\n                text: 'Silahkan tunggu beberapa saat!',\n                icon: \"info\",\n                allowEscapeKey: false,\n                allowOutsideClick: false,\n                didOpen: () => {\n                    Swal.showLoading()\n                }\n            })\n            Api.post('/cart/remove', {\n                cart_id: cart_id\n            })\n                .then(() => {\n                    Api.get('/cart')\n                        .then(response => {\n                            commit('GET_CART', response.data.cart)\n                        })\n\n                    Api.get('/cart/total')\n                        .then(response => {\n                            commit('TOTAL_CART', response.data.total)\n                        })\n\n                    Api.get('/cart/totalWeight')\n                        .then(response => {\n                            commit('CART_WEIGHT', response.data.total)\n                        })\n\n                    Swal.close()\n                    Swal.fire({\n                        title: \"Success\",\n                        text: \"Produk dihapus dari keranjang.\",\n                        icon: \"success\",\n                        showConfirmButton: false,\n                        timer: 1500\n                    });\n                })\n        },\n        checkout({ commit }, data) {\n            return new Promise((resolve, reject) => {\n                Api.post('/checkout', {\n                    courier: data.courier_type,\n                    service: data.courier_service,\n                    cost: data.courier_cost,\n                    weight: data.weight,\n                    name: data.name,\n                    phone: data.phone,\n                    province: data.province_id,\n                    city: data.city_id,\n                    address: data.address,\n                    grand_total: data.grandTotal\n                })\n                    .then(response => {\n                        resolve(response.data)\n\n                        Api.post('/cart/removeAll')\n                            .then(() => {\n                                commit('CLEAR_CART')\n                            })\n                            .catch(error => {\n                                console.log(error)\n                            })\n                    })\n                    .catch(error => {\n                        reject(error)\n                    })\n            })\n        }\n    },\n\n    getters: {\n        getCart(state) {\n            return state.cart\n        },\n        cartCount(state) {\n            return state.cart.length\n        },\n        cartTotal(state) {\n            return state.cartTotal\n        }\n    }\n}\n\nexport default cart"]},"metadata":{},"sourceType":"module"}