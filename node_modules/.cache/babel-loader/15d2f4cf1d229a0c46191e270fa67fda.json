{"ast":null,"code":"import \"core-js/modules/es.error.cause.js\";\n\n/*!\n * Vue3-Lazyload.js v0.2.5-beta\n * A Vue3.x image lazyload plugin\n * (c) 2021 MuRong <admin@imuboy.cn>\n * Released under the MIT License.\n */\nvar LifecycleEnum;\n\n(function (LifecycleEnum) {\n  LifecycleEnum[\"LOADING\"] = \"loading\";\n  LifecycleEnum[\"LOADED\"] = \"loaded\";\n  LifecycleEnum[\"ERROR\"] = \"error\";\n})(LifecycleEnum || (LifecycleEnum = {}));\n/* eslint-disable @typescript-eslint/explicit-module-boundary-types */\n\n\nvar inBrowser = typeof window !== 'undefined' && window !== null;\nvar hasIntersectionObserver = checkIntersectionObserver();\nvar isEnumerable = Object.prototype.propertyIsEnumerable;\nvar getSymbols = Object.getOwnPropertySymbols;\n/**\n * is object\n *\n * @param {*} val\n * @returns {boolean}\n */\n\nfunction isObject(val) {\n  return typeof val === 'function' || toString.call(val) === '[object Object]';\n}\n/**\n * is primitive\n *\n * @param {*} val\n * @returns {boolean}\n */\n\n\nfunction isPrimitive(val) {\n  return typeof val === 'object' ? val === null : typeof val !== 'function';\n}\n/**\n * check private key\n *\n * @export\n * @param {*} key\n * @returns {boolean}\n */\n\n\nfunction isValidKey(key) {\n  return key !== '__proto__' && key !== 'constructor' && key !== 'prototype';\n}\n/**\n * Check if IntersectionObserver can be used\n *\n * @returns {boolean}\n */\n\n\nfunction checkIntersectionObserver() {\n  if (inBrowser && 'IntersectionObserver' in window && 'IntersectionObserverEntry' in window && 'intersectionRatio' in window.IntersectionObserverEntry.prototype) {\n    // Minimal polyfill for Edge 15's lack of `isIntersecting`\n    // See: https://github.com/w3c/IntersectionObserver/issues/211\n    if (!('isIntersecting' in window.IntersectionObserverEntry.prototype)) {\n      Object.defineProperty(window.IntersectionObserverEntry.prototype, 'isIntersecting', {\n        get: function () {\n          return this.intersectionRatio > 0;\n        }\n      });\n    }\n\n    return true;\n  }\n\n  return false;\n}\n/**\n * Assign the enumerable es6 Symbol properties from one\n * or more objects to the first object passed on the arguments.\n * Can be used as a supplement to other extend, assign or\n * merge methods as a polyfill for the Symbols part of\n * the es6 Object.assign method.\n * https://github.com/jonschlinkert/assign-symbols\n *\n * @param {*} target\n * @param {...any[]} args\n * @returns\n */\n\n\nfunction assignSymbols(target) {\n  var args = [];\n\n  for (var _i = 1; _i < arguments.length; _i++) {\n    args[_i - 1] = arguments[_i];\n  }\n\n  if (!isObject(target)) {\n    throw new TypeError('expected the first argument to be an object');\n  }\n\n  if (args.length === 0 || typeof Symbol !== 'function' || typeof getSymbols !== 'function') {\n    return target;\n  }\n\n  for (var _a = 0, args_1 = args; _a < args_1.length; _a++) {\n    var arg = args_1[_a];\n    var names = getSymbols(arg);\n\n    for (var _b = 0, names_1 = names; _b < names_1.length; _b++) {\n      var key = names_1[_b];\n\n      if (isEnumerable.call(arg, key)) {\n        target[key] = arg[key];\n      }\n    }\n  }\n\n  return target;\n}\n/**\n * Deeply assign the values of all enumerable-own-properties and symbols\n * from one or more source objects to a target object. Returns the target object.\n * https://github.com/jonschlinkert/assign-deep\n *\n * @param {*} target\n * @param {...any[]} args\n * @returns\n */\n\n\nfunction assign(target) {\n  var args = [];\n\n  for (var _i = 1; _i < arguments.length; _i++) {\n    args[_i - 1] = arguments[_i];\n  }\n\n  var i = 0;\n  if (isPrimitive(target)) target = args[i++];\n  if (!target) target = {};\n\n  for (; i < args.length; i++) {\n    if (isObject(args[i])) {\n      for (var _a = 0, _b = Object.keys(args[i]); _a < _b.length; _a++) {\n        var key = _b[_a];\n\n        if (isValidKey(key)) {\n          if (isObject(target[key]) && isObject(args[i][key])) {\n            assign(target[key], args[i][key]);\n          } else {\n            target[key] = args[i][key];\n          }\n        }\n      }\n\n      assignSymbols(target, args[i]);\n    }\n  }\n\n  return target;\n}\n/* eslint-disable @typescript-eslint/explicit-module-boundary-types */\n\n\nvar DEFAULT_OBSERVER_OPTIONS = {\n  rootMargin: '0px',\n  threshold: 0\n};\nvar DEFAULT_LOADING = 'data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7';\nvar DEFAULT_ERROR = '';\n/**\n * Lazyload\n *\n * @export\n * @class Lazy\n */\n\nvar Lazy =\n/** @class */\nfunction () {\n  function Lazy(options) {\n    this.options = {\n      loading: DEFAULT_LOADING,\n      error: DEFAULT_ERROR,\n      observerOptions: DEFAULT_OBSERVER_OPTIONS,\n      log: true,\n      lifecycle: {}\n    };\n    this._images = new WeakMap();\n    this.config(options);\n  }\n  /**\n   * merge config\n   *\n   * @param {*} [options={}]\n   * @memberof Lazy\n   */\n\n\n  Lazy.prototype.config = function (options) {\n    if (options === void 0) {\n      options = {};\n    }\n\n    assign(this.options, options);\n  };\n  /**\n   * mount\n   *\n   * @param {HTMLElement} el\n   * @param {DirectiveBinding<string>} binding\n   * @memberof Lazy\n   */\n\n\n  Lazy.prototype.mount = function (el, binding) {\n    var _a = this._valueFormatter(binding.value),\n        src = _a.src,\n        loading = _a.loading,\n        error = _a.error,\n        lifecycle = _a.lifecycle;\n\n    this._lifecycle(LifecycleEnum.LOADING, lifecycle, el);\n\n    el.setAttribute('src', loading || DEFAULT_LOADING);\n\n    if (!hasIntersectionObserver) {\n      this.loadImages(el, src, error, lifecycle);\n\n      this._log(function () {\n        throw new Error('Not support IntersectionObserver!');\n      });\n    }\n\n    this._initIntersectionObserver(el, src, error, lifecycle);\n  };\n  /**\n   * update\n   *\n   * @param {HTMLElement} el\n   * @memberof Lazy\n   */\n\n\n  Lazy.prototype.update = function (el, binding) {\n    var _a;\n\n    (_a = this._realObserver(el)) === null || _a === void 0 ? void 0 : _a.unobserve(el);\n\n    var _b = this._valueFormatter(binding.value),\n        src = _b.src,\n        error = _b.error,\n        lifecycle = _b.lifecycle;\n\n    this._initIntersectionObserver(el, src, error, lifecycle);\n  };\n  /**\n   * unmount\n   *\n   * @param {HTMLElement} el\n   * @memberof Lazy\n   */\n\n\n  Lazy.prototype.unmount = function (el) {\n    var _a;\n\n    (_a = this._realObserver(el)) === null || _a === void 0 ? void 0 : _a.unobserve(el);\n\n    this._images.delete(el);\n  };\n  /**\n   * force loading\n   *\n   * @param {HTMLElement} el\n   * @param {string} src\n   * @memberof Lazy\n   */\n\n\n  Lazy.prototype.loadImages = function (el, src, error, lifecycle) {\n    this._setImageSrc(el, src, error, lifecycle);\n  };\n  /**\n   * set img tag src\n   *\n   * @private\n   * @param {HTMLElement} el\n   * @param {string} src\n   * @memberof Lazy\n   */\n\n\n  Lazy.prototype._setImageSrc = function (el, src, error, lifecycle) {\n    var _this = this;\n\n    if ('img' === el.tagName.toLowerCase()) {\n      if (src) {\n        var preSrc = el.getAttribute('src');\n\n        if (preSrc !== src) {\n          el.setAttribute('src', src);\n        }\n      }\n\n      this._listenImageStatus(el, function () {\n        _this._lifecycle(LifecycleEnum.LOADED, lifecycle, el);\n      }, function () {\n        var _a; // Fix onload trigger twice, clear onload event\n        // Reload on update\n\n\n        el.onload = null;\n\n        _this._lifecycle(LifecycleEnum.ERROR, lifecycle, el);\n\n        (_a = _this._realObserver(el)) === null || _a === void 0 ? void 0 : _a.disconnect();\n        if (error) el.setAttribute('src', error);\n\n        _this._log(function () {\n          throw new Error('Image failed to load!');\n        });\n      });\n    } else {\n      el.style.backgroundImage = 'url(\\'' + src + '\\')';\n    }\n  };\n  /**\n   * init IntersectionObserver\n   *\n   * @private\n   * @param {HTMLElement} el\n   * @param {string} src\n   * @memberof Lazy\n   */\n\n\n  Lazy.prototype._initIntersectionObserver = function (el, src, error, lifecycle) {\n    var _this = this;\n\n    var _a;\n\n    var observerOptions = this.options.observerOptions;\n\n    this._images.set(el, new IntersectionObserver(function (entries) {\n      Array.prototype.forEach.call(entries, function (entry) {\n        var _a;\n\n        if (entry.isIntersecting) {\n          (_a = _this._realObserver(el)) === null || _a === void 0 ? void 0 : _a.unobserve(entry.target);\n\n          _this._setImageSrc(el, src, error, lifecycle);\n        }\n      });\n    }, observerOptions));\n\n    (_a = this._realObserver(el)) === null || _a === void 0 ? void 0 : _a.observe(el);\n  };\n  /**\n   * only listen to image status\n   *\n   * @private\n   * @param {string} src\n   * @param {(string | null)} cors\n   * @param {() => void} success\n   * @param {() => void} error\n   * @memberof Lazy\n   */\n\n\n  Lazy.prototype._listenImageStatus = function (image, success, error) {\n    image.onload = success;\n    image.onerror = error;\n  };\n  /**\n   * to do it differently for object and string\n   *\n   * @public\n   * @param {(ValueFormatterObject | string)} value\n   * @returns {*}\n   * @memberof Lazy\n   */\n\n\n  Lazy.prototype._valueFormatter = function (value) {\n    var src = value;\n    var loading = this.options.loading;\n    var error = this.options.error;\n    var lifecycle = this.options.lifecycle;\n\n    if (isObject(value)) {\n      src = value.src;\n      loading = value.loading || this.options.loading;\n      error = value.error || this.options.error;\n      lifecycle = value.lifecycle || this.options.lifecycle;\n    }\n\n    return {\n      src: src,\n      loading: loading,\n      error: error,\n      lifecycle: lifecycle\n    };\n  };\n  /**\n   * log\n   *\n   * @param {() => void} callback\n   * @memberof Lazy\n   */\n\n\n  Lazy.prototype._log = function (callback) {\n    if (this.options.log) {\n      callback();\n    }\n  };\n  /**\n   * lifecycle easy\n   *\n   * @private\n   * @param {LifecycleEnum} life\n   * @param {Lifecycle} [lifecycle]\n   * @memberof Lazy\n   */\n\n\n  Lazy.prototype._lifecycle = function (life, lifecycle, el) {\n    switch (life) {\n      case LifecycleEnum.LOADING:\n        el === null || el === void 0 ? void 0 : el.setAttribute('lazy', LifecycleEnum.LOADING);\n\n        if (lifecycle === null || lifecycle === void 0 ? void 0 : lifecycle.loading) {\n          lifecycle.loading(el);\n        }\n\n        break;\n\n      case LifecycleEnum.LOADED:\n        el === null || el === void 0 ? void 0 : el.setAttribute('lazy', LifecycleEnum.LOADED);\n\n        if (lifecycle === null || lifecycle === void 0 ? void 0 : lifecycle.loaded) {\n          lifecycle.loaded(el);\n        }\n\n        break;\n\n      case LifecycleEnum.ERROR:\n        el === null || el === void 0 ? void 0 : el.setAttribute('lazy', LifecycleEnum.ERROR);\n\n        if (lifecycle === null || lifecycle === void 0 ? void 0 : lifecycle.error) {\n          lifecycle.error(el);\n        }\n\n        break;\n    }\n  };\n\n  Lazy.prototype._realObserver = function (el) {\n    return this._images.get(el);\n  };\n\n  return Lazy;\n}();\n\nvar index = {\n  /**\n   * install plugin\n   *\n   * @param {App} Vue\n   * @param {LazyOptions} options\n   */\n  install: function (Vue, options) {\n    var lazy = new Lazy(options);\n    Vue.config.globalProperties.$Lazyload = lazy;\n    Vue.provide('Lazyload', lazy);\n    Vue.directive('lazy', {\n      mounted: lazy.mount.bind(lazy),\n      updated: lazy.update.bind(lazy),\n      unmounted: lazy.unmount.bind(lazy)\n    });\n  }\n};\nexport { index as default };","map":{"version":3,"sources":["/Users/benmehidilarbi/Desktop/online-shop-main/node_modules/vue3-lazyload/dist/vue3-lazyload.esm.js"],"names":["LifecycleEnum","inBrowser","window","hasIntersectionObserver","checkIntersectionObserver","isEnumerable","Object","prototype","propertyIsEnumerable","getSymbols","getOwnPropertySymbols","isObject","val","toString","call","isPrimitive","isValidKey","key","IntersectionObserverEntry","defineProperty","get","intersectionRatio","assignSymbols","target","args","_i","arguments","length","TypeError","Symbol","_a","args_1","arg","names","_b","names_1","assign","i","keys","DEFAULT_OBSERVER_OPTIONS","rootMargin","threshold","DEFAULT_LOADING","DEFAULT_ERROR","Lazy","options","loading","error","observerOptions","log","lifecycle","_images","WeakMap","config","mount","el","binding","_valueFormatter","value","src","_lifecycle","LOADING","setAttribute","loadImages","_log","Error","_initIntersectionObserver","update","_realObserver","unobserve","unmount","delete","_setImageSrc","_this","tagName","toLowerCase","preSrc","getAttribute","_listenImageStatus","LOADED","onload","ERROR","disconnect","style","backgroundImage","set","IntersectionObserver","entries","Array","forEach","entry","isIntersecting","observe","image","success","onerror","callback","life","loaded","index","install","Vue","lazy","globalProperties","$Lazyload","provide","directive","mounted","bind","updated","unmounted","default"],"mappings":";;AAAA;AACA;AACA;AACA;AACA;AACA;AACA,IAAIA,aAAJ;;AACA,CAAC,UAAUA,aAAV,EAAyB;AACtBA,EAAAA,aAAa,CAAC,SAAD,CAAb,GAA2B,SAA3B;AACAA,EAAAA,aAAa,CAAC,QAAD,CAAb,GAA0B,QAA1B;AACAA,EAAAA,aAAa,CAAC,OAAD,CAAb,GAAyB,OAAzB;AACH,CAJD,EAIGA,aAAa,KAAKA,aAAa,GAAG,EAArB,CAJhB;AAMA;;;AACA,IAAIC,SAAS,GAAG,OAAOC,MAAP,KAAkB,WAAlB,IAAiCA,MAAM,KAAK,IAA5D;AACA,IAAIC,uBAAuB,GAAGC,yBAAyB,EAAvD;AACA,IAAIC,YAAY,GAAGC,MAAM,CAACC,SAAP,CAAiBC,oBAApC;AACA,IAAIC,UAAU,GAAGH,MAAM,CAACI,qBAAxB;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,SAASC,QAAT,CAAkBC,GAAlB,EAAuB;AACnB,SAAO,OAAOA,GAAP,KAAe,UAAf,IAA6BC,QAAQ,CAACC,IAAT,CAAcF,GAAd,MAAuB,iBAA3D;AACH;AACD;AACA;AACA;AACA;AACA;AACA;;;AACA,SAASG,WAAT,CAAqBH,GAArB,EAA0B;AACtB,SAAO,OAAOA,GAAP,KAAe,QAAf,GAA0BA,GAAG,KAAK,IAAlC,GAAyC,OAAOA,GAAP,KAAe,UAA/D;AACH;AACD;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,SAASI,UAAT,CAAoBC,GAApB,EAAyB;AACrB,SAAOA,GAAG,KAAK,WAAR,IAAuBA,GAAG,KAAK,aAA/B,IAAgDA,GAAG,KAAK,WAA/D;AACH;AACD;AACA;AACA;AACA;AACA;;;AACA,SAASb,yBAAT,GAAqC;AACjC,MAAIH,SAAS,IACT,0BAA0BC,MAD1B,IAEA,+BAA+BA,MAF/B,IAGA,uBAAuBA,MAAM,CAACgB,yBAAP,CAAiCX,SAH5D,EAGuE;AACnE;AACA;AACA,QAAI,EAAE,oBAAoBL,MAAM,CAACgB,yBAAP,CAAiCX,SAAvD,CAAJ,EAAuE;AACnED,MAAAA,MAAM,CAACa,cAAP,CAAsBjB,MAAM,CAACgB,yBAAP,CAAiCX,SAAvD,EAAkE,gBAAlE,EAAoF;AAChFa,QAAAA,GAAG,EAAE,YAAY;AACb,iBAAO,KAAKC,iBAAL,GAAyB,CAAhC;AACH;AAH+E,OAApF;AAKH;;AACD,WAAO,IAAP;AACH;;AACD,SAAO,KAAP;AACH;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,SAASC,aAAT,CAAuBC,MAAvB,EAA+B;AAC3B,MAAIC,IAAI,GAAG,EAAX;;AACA,OAAK,IAAIC,EAAE,GAAG,CAAd,EAAiBA,EAAE,GAAGC,SAAS,CAACC,MAAhC,EAAwCF,EAAE,EAA1C,EAA8C;AAC1CD,IAAAA,IAAI,CAACC,EAAE,GAAG,CAAN,CAAJ,GAAeC,SAAS,CAACD,EAAD,CAAxB;AACH;;AACD,MAAI,CAACd,QAAQ,CAACY,MAAD,CAAb,EAAuB;AACnB,UAAM,IAAIK,SAAJ,CAAc,6CAAd,CAAN;AACH;;AACD,MAAIJ,IAAI,CAACG,MAAL,KAAgB,CAAhB,IAAqB,OAAOE,MAAP,KAAkB,UAAvC,IAAqD,OAAOpB,UAAP,KAAsB,UAA/E,EAA2F;AACvF,WAAOc,MAAP;AACH;;AACD,OAAK,IAAIO,EAAE,GAAG,CAAT,EAAYC,MAAM,GAAGP,IAA1B,EAAgCM,EAAE,GAAGC,MAAM,CAACJ,MAA5C,EAAoDG,EAAE,EAAtD,EAA0D;AACtD,QAAIE,GAAG,GAAGD,MAAM,CAACD,EAAD,CAAhB;AACA,QAAIG,KAAK,GAAGxB,UAAU,CAACuB,GAAD,CAAtB;;AACA,SAAK,IAAIE,EAAE,GAAG,CAAT,EAAYC,OAAO,GAAGF,KAA3B,EAAkCC,EAAE,GAAGC,OAAO,CAACR,MAA/C,EAAuDO,EAAE,EAAzD,EAA6D;AACzD,UAAIjB,GAAG,GAAGkB,OAAO,CAACD,EAAD,CAAjB;;AACA,UAAI7B,YAAY,CAACS,IAAb,CAAkBkB,GAAlB,EAAuBf,GAAvB,CAAJ,EAAiC;AAC7BM,QAAAA,MAAM,CAACN,GAAD,CAAN,GAAce,GAAG,CAACf,GAAD,CAAjB;AACH;AACJ;AACJ;;AACD,SAAOM,MAAP;AACH;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,SAASa,MAAT,CAAgBb,MAAhB,EAAwB;AACpB,MAAIC,IAAI,GAAG,EAAX;;AACA,OAAK,IAAIC,EAAE,GAAG,CAAd,EAAiBA,EAAE,GAAGC,SAAS,CAACC,MAAhC,EAAwCF,EAAE,EAA1C,EAA8C;AAC1CD,IAAAA,IAAI,CAACC,EAAE,GAAG,CAAN,CAAJ,GAAeC,SAAS,CAACD,EAAD,CAAxB;AACH;;AACD,MAAIY,CAAC,GAAG,CAAR;AACA,MAAItB,WAAW,CAACQ,MAAD,CAAf,EACIA,MAAM,GAAGC,IAAI,CAACa,CAAC,EAAF,CAAb;AACJ,MAAI,CAACd,MAAL,EACIA,MAAM,GAAG,EAAT;;AACJ,SAAOc,CAAC,GAAGb,IAAI,CAACG,MAAhB,EAAwBU,CAAC,EAAzB,EAA6B;AACzB,QAAI1B,QAAQ,CAACa,IAAI,CAACa,CAAD,CAAL,CAAZ,EAAuB;AACnB,WAAK,IAAIP,EAAE,GAAG,CAAT,EAAYI,EAAE,GAAG5B,MAAM,CAACgC,IAAP,CAAYd,IAAI,CAACa,CAAD,CAAhB,CAAtB,EAA4CP,EAAE,GAAGI,EAAE,CAACP,MAApD,EAA4DG,EAAE,EAA9D,EAAkE;AAC9D,YAAIb,GAAG,GAAGiB,EAAE,CAACJ,EAAD,CAAZ;;AACA,YAAId,UAAU,CAACC,GAAD,CAAd,EAAqB;AACjB,cAAIN,QAAQ,CAACY,MAAM,CAACN,GAAD,CAAP,CAAR,IAAyBN,QAAQ,CAACa,IAAI,CAACa,CAAD,CAAJ,CAAQpB,GAAR,CAAD,CAArC,EAAqD;AACjDmB,YAAAA,MAAM,CAACb,MAAM,CAACN,GAAD,CAAP,EAAcO,IAAI,CAACa,CAAD,CAAJ,CAAQpB,GAAR,CAAd,CAAN;AACH,WAFD,MAGK;AACDM,YAAAA,MAAM,CAACN,GAAD,CAAN,GAAcO,IAAI,CAACa,CAAD,CAAJ,CAAQpB,GAAR,CAAd;AACH;AACJ;AACJ;;AACDK,MAAAA,aAAa,CAACC,MAAD,EAASC,IAAI,CAACa,CAAD,CAAb,CAAb;AACH;AACJ;;AACD,SAAOd,MAAP;AACH;AAED;;;AACA,IAAIgB,wBAAwB,GAAG;AAC3BC,EAAAA,UAAU,EAAE,KADe;AAE3BC,EAAAA,SAAS,EAAE;AAFgB,CAA/B;AAIA,IAAIC,eAAe,GAAG,gFAAtB;AACA,IAAIC,aAAa,GAAG,EAApB;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,IAAIC,IAAI;AAAG;AAAe,YAAY;AAClC,WAASA,IAAT,CAAcC,OAAd,EAAuB;AACnB,SAAKA,OAAL,GAAe;AACXC,MAAAA,OAAO,EAAEJ,eADE;AAEXK,MAAAA,KAAK,EAAEJ,aAFI;AAGXK,MAAAA,eAAe,EAAET,wBAHN;AAIXU,MAAAA,GAAG,EAAE,IAJM;AAKXC,MAAAA,SAAS,EAAE;AALA,KAAf;AAOA,SAAKC,OAAL,GAAe,IAAIC,OAAJ,EAAf;AACA,SAAKC,MAAL,CAAYR,OAAZ;AACH;AACD;AACJ;AACA;AACA;AACA;AACA;;;AACID,EAAAA,IAAI,CAACrC,SAAL,CAAe8C,MAAf,GAAwB,UAAUR,OAAV,EAAmB;AACvC,QAAIA,OAAO,KAAK,KAAK,CAArB,EAAwB;AAAEA,MAAAA,OAAO,GAAG,EAAV;AAAe;;AACzCT,IAAAA,MAAM,CAAC,KAAKS,OAAN,EAAeA,OAAf,CAAN;AACH,GAHD;AAIA;AACJ;AACA;AACA;AACA;AACA;AACA;;;AACID,EAAAA,IAAI,CAACrC,SAAL,CAAe+C,KAAf,GAAuB,UAAUC,EAAV,EAAcC,OAAd,EAAuB;AAC1C,QAAI1B,EAAE,GAAG,KAAK2B,eAAL,CAAqBD,OAAO,CAACE,KAA7B,CAAT;AAAA,QAA8CC,GAAG,GAAG7B,EAAE,CAAC6B,GAAvD;AAAA,QAA4Db,OAAO,GAAGhB,EAAE,CAACgB,OAAzE;AAAA,QAAkFC,KAAK,GAAGjB,EAAE,CAACiB,KAA7F;AAAA,QAAoGG,SAAS,GAAGpB,EAAE,CAACoB,SAAnH;;AACA,SAAKU,UAAL,CAAgB5D,aAAa,CAAC6D,OAA9B,EAAuCX,SAAvC,EAAkDK,EAAlD;;AACAA,IAAAA,EAAE,CAACO,YAAH,CAAgB,KAAhB,EAAuBhB,OAAO,IAAIJ,eAAlC;;AACA,QAAI,CAACvC,uBAAL,EAA8B;AAC1B,WAAK4D,UAAL,CAAgBR,EAAhB,EAAoBI,GAApB,EAAyBZ,KAAzB,EAAgCG,SAAhC;;AACA,WAAKc,IAAL,CAAU,YAAY;AAClB,cAAM,IAAIC,KAAJ,CAAU,mCAAV,CAAN;AACH,OAFD;AAGH;;AACD,SAAKC,yBAAL,CAA+BX,EAA/B,EAAmCI,GAAnC,EAAwCZ,KAAxC,EAA+CG,SAA/C;AACH,GAXD;AAYA;AACJ;AACA;AACA;AACA;AACA;;;AACIN,EAAAA,IAAI,CAACrC,SAAL,CAAe4D,MAAf,GAAwB,UAAUZ,EAAV,EAAcC,OAAd,EAAuB;AAC3C,QAAI1B,EAAJ;;AACA,KAACA,EAAE,GAAG,KAAKsC,aAAL,CAAmBb,EAAnB,CAAN,MAAkC,IAAlC,IAA0CzB,EAAE,KAAK,KAAK,CAAtD,GAA0D,KAAK,CAA/D,GAAmEA,EAAE,CAACuC,SAAH,CAAad,EAAb,CAAnE;;AACA,QAAIrB,EAAE,GAAG,KAAKuB,eAAL,CAAqBD,OAAO,CAACE,KAA7B,CAAT;AAAA,QAA8CC,GAAG,GAAGzB,EAAE,CAACyB,GAAvD;AAAA,QAA4DZ,KAAK,GAAGb,EAAE,CAACa,KAAvE;AAAA,QAA8EG,SAAS,GAAGhB,EAAE,CAACgB,SAA7F;;AACA,SAAKgB,yBAAL,CAA+BX,EAA/B,EAAmCI,GAAnC,EAAwCZ,KAAxC,EAA+CG,SAA/C;AACH,GALD;AAMA;AACJ;AACA;AACA;AACA;AACA;;;AACIN,EAAAA,IAAI,CAACrC,SAAL,CAAe+D,OAAf,GAAyB,UAAUf,EAAV,EAAc;AACnC,QAAIzB,EAAJ;;AACA,KAACA,EAAE,GAAG,KAAKsC,aAAL,CAAmBb,EAAnB,CAAN,MAAkC,IAAlC,IAA0CzB,EAAE,KAAK,KAAK,CAAtD,GAA0D,KAAK,CAA/D,GAAmEA,EAAE,CAACuC,SAAH,CAAad,EAAb,CAAnE;;AACA,SAAKJ,OAAL,CAAaoB,MAAb,CAAoBhB,EAApB;AACH,GAJD;AAKA;AACJ;AACA;AACA;AACA;AACA;AACA;;;AACIX,EAAAA,IAAI,CAACrC,SAAL,CAAewD,UAAf,GAA4B,UAAUR,EAAV,EAAcI,GAAd,EAAmBZ,KAAnB,EAA0BG,SAA1B,EAAqC;AAC7D,SAAKsB,YAAL,CAAkBjB,EAAlB,EAAsBI,GAAtB,EAA2BZ,KAA3B,EAAkCG,SAAlC;AACH,GAFD;AAGA;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;;;AACIN,EAAAA,IAAI,CAACrC,SAAL,CAAeiE,YAAf,GAA8B,UAAUjB,EAAV,EAAcI,GAAd,EAAmBZ,KAAnB,EAA0BG,SAA1B,EAAqC;AAC/D,QAAIuB,KAAK,GAAG,IAAZ;;AACA,QAAI,UAAUlB,EAAE,CAACmB,OAAH,CAAWC,WAAX,EAAd,EAAwC;AACpC,UAAIhB,GAAJ,EAAS;AACL,YAAIiB,MAAM,GAAGrB,EAAE,CAACsB,YAAH,CAAgB,KAAhB,CAAb;;AACA,YAAID,MAAM,KAAKjB,GAAf,EAAoB;AAChBJ,UAAAA,EAAE,CAACO,YAAH,CAAgB,KAAhB,EAAuBH,GAAvB;AACH;AACJ;;AACD,WAAKmB,kBAAL,CAAwBvB,EAAxB,EAA4B,YAAY;AACpCkB,QAAAA,KAAK,CAACb,UAAN,CAAiB5D,aAAa,CAAC+E,MAA/B,EAAuC7B,SAAvC,EAAkDK,EAAlD;AACH,OAFD,EAEG,YAAY;AACX,YAAIzB,EAAJ,CADW,CAEX;AACA;;;AACAyB,QAAAA,EAAE,CAACyB,MAAH,GAAY,IAAZ;;AACAP,QAAAA,KAAK,CAACb,UAAN,CAAiB5D,aAAa,CAACiF,KAA/B,EAAsC/B,SAAtC,EAAiDK,EAAjD;;AACA,SAACzB,EAAE,GAAG2C,KAAK,CAACL,aAAN,CAAoBb,EAApB,CAAN,MAAmC,IAAnC,IAA2CzB,EAAE,KAAK,KAAK,CAAvD,GAA2D,KAAK,CAAhE,GAAoEA,EAAE,CAACoD,UAAH,EAApE;AACA,YAAInC,KAAJ,EACIQ,EAAE,CAACO,YAAH,CAAgB,KAAhB,EAAuBf,KAAvB;;AACJ0B,QAAAA,KAAK,CAACT,IAAN,CAAW,YAAY;AAAE,gBAAM,IAAIC,KAAJ,CAAU,uBAAV,CAAN;AAA2C,SAApE;AACH,OAZD;AAaH,KApBD,MAqBK;AACDV,MAAAA,EAAE,CAAC4B,KAAH,CAASC,eAAT,GAA2B,WAAWzB,GAAX,GAAiB,KAA5C;AACH;AACJ,GA1BD;AA2BA;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;;;AACIf,EAAAA,IAAI,CAACrC,SAAL,CAAe2D,yBAAf,GAA2C,UAAUX,EAAV,EAAcI,GAAd,EAAmBZ,KAAnB,EAA0BG,SAA1B,EAAqC;AAC5E,QAAIuB,KAAK,GAAG,IAAZ;;AACA,QAAI3C,EAAJ;;AACA,QAAIkB,eAAe,GAAG,KAAKH,OAAL,CAAaG,eAAnC;;AACA,SAAKG,OAAL,CAAakC,GAAb,CAAiB9B,EAAjB,EAAqB,IAAI+B,oBAAJ,CAAyB,UAAUC,OAAV,EAAmB;AAC7DC,MAAAA,KAAK,CAACjF,SAAN,CAAgBkF,OAAhB,CAAwB3E,IAAxB,CAA6ByE,OAA7B,EAAsC,UAAUG,KAAV,EAAiB;AACnD,YAAI5D,EAAJ;;AACA,YAAI4D,KAAK,CAACC,cAAV,EAA0B;AACtB,WAAC7D,EAAE,GAAG2C,KAAK,CAACL,aAAN,CAAoBb,EAApB,CAAN,MAAmC,IAAnC,IAA2CzB,EAAE,KAAK,KAAK,CAAvD,GAA2D,KAAK,CAAhE,GAAoEA,EAAE,CAACuC,SAAH,CAAaqB,KAAK,CAACnE,MAAnB,CAApE;;AACAkD,UAAAA,KAAK,CAACD,YAAN,CAAmBjB,EAAnB,EAAuBI,GAAvB,EAA4BZ,KAA5B,EAAmCG,SAAnC;AACH;AACJ,OAND;AAOH,KARoB,EAQlBF,eARkB,CAArB;;AASA,KAAClB,EAAE,GAAG,KAAKsC,aAAL,CAAmBb,EAAnB,CAAN,MAAkC,IAAlC,IAA0CzB,EAAE,KAAK,KAAK,CAAtD,GAA0D,KAAK,CAA/D,GAAmEA,EAAE,CAAC8D,OAAH,CAAWrC,EAAX,CAAnE;AACH,GAdD;AAeA;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACIX,EAAAA,IAAI,CAACrC,SAAL,CAAeuE,kBAAf,GAAoC,UAAUe,KAAV,EAAiBC,OAAjB,EAA0B/C,KAA1B,EAAiC;AACjE8C,IAAAA,KAAK,CAACb,MAAN,GAAec,OAAf;AACAD,IAAAA,KAAK,CAACE,OAAN,GAAgBhD,KAAhB;AACH,GAHD;AAIA;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;;;AACIH,EAAAA,IAAI,CAACrC,SAAL,CAAekD,eAAf,GAAiC,UAAUC,KAAV,EAAiB;AAC9C,QAAIC,GAAG,GAAGD,KAAV;AACA,QAAIZ,OAAO,GAAG,KAAKD,OAAL,CAAaC,OAA3B;AACA,QAAIC,KAAK,GAAG,KAAKF,OAAL,CAAaE,KAAzB;AACA,QAAIG,SAAS,GAAG,KAAKL,OAAL,CAAaK,SAA7B;;AACA,QAAIvC,QAAQ,CAAC+C,KAAD,CAAZ,EAAqB;AACjBC,MAAAA,GAAG,GAAGD,KAAK,CAACC,GAAZ;AACAb,MAAAA,OAAO,GAAGY,KAAK,CAACZ,OAAN,IAAiB,KAAKD,OAAL,CAAaC,OAAxC;AACAC,MAAAA,KAAK,GAAGW,KAAK,CAACX,KAAN,IAAe,KAAKF,OAAL,CAAaE,KAApC;AACAG,MAAAA,SAAS,GAAIQ,KAAK,CAACR,SAAN,IAAmB,KAAKL,OAAL,CAAaK,SAA7C;AACH;;AACD,WAAO;AACHS,MAAAA,GAAG,EAAEA,GADF;AAEHb,MAAAA,OAAO,EAAEA,OAFN;AAGHC,MAAAA,KAAK,EAAEA,KAHJ;AAIHG,MAAAA,SAAS,EAAEA;AAJR,KAAP;AAMH,GAjBD;AAkBA;AACJ;AACA;AACA;AACA;AACA;;;AACIN,EAAAA,IAAI,CAACrC,SAAL,CAAeyD,IAAf,GAAsB,UAAUgC,QAAV,EAAoB;AACtC,QAAI,KAAKnD,OAAL,CAAaI,GAAjB,EAAsB;AAClB+C,MAAAA,QAAQ;AACX;AACJ,GAJD;AAKA;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;;;AACIpD,EAAAA,IAAI,CAACrC,SAAL,CAAeqD,UAAf,GAA4B,UAAUqC,IAAV,EAAgB/C,SAAhB,EAA2BK,EAA3B,EAA+B;AACvD,YAAQ0C,IAAR;AACI,WAAKjG,aAAa,CAAC6D,OAAnB;AACIN,QAAAA,EAAE,KAAK,IAAP,IAAeA,EAAE,KAAK,KAAK,CAA3B,GAA+B,KAAK,CAApC,GAAwCA,EAAE,CAACO,YAAH,CAAgB,MAAhB,EAAwB9D,aAAa,CAAC6D,OAAtC,CAAxC;;AACA,YAAIX,SAAS,KAAK,IAAd,IAAsBA,SAAS,KAAK,KAAK,CAAzC,GAA6C,KAAK,CAAlD,GAAsDA,SAAS,CAACJ,OAApE,EAA6E;AACzEI,UAAAA,SAAS,CAACJ,OAAV,CAAkBS,EAAlB;AACH;;AACD;;AACJ,WAAKvD,aAAa,CAAC+E,MAAnB;AACIxB,QAAAA,EAAE,KAAK,IAAP,IAAeA,EAAE,KAAK,KAAK,CAA3B,GAA+B,KAAK,CAApC,GAAwCA,EAAE,CAACO,YAAH,CAAgB,MAAhB,EAAwB9D,aAAa,CAAC+E,MAAtC,CAAxC;;AACA,YAAI7B,SAAS,KAAK,IAAd,IAAsBA,SAAS,KAAK,KAAK,CAAzC,GAA6C,KAAK,CAAlD,GAAsDA,SAAS,CAACgD,MAApE,EAA4E;AACxEhD,UAAAA,SAAS,CAACgD,MAAV,CAAiB3C,EAAjB;AACH;;AACD;;AACJ,WAAKvD,aAAa,CAACiF,KAAnB;AACI1B,QAAAA,EAAE,KAAK,IAAP,IAAeA,EAAE,KAAK,KAAK,CAA3B,GAA+B,KAAK,CAApC,GAAwCA,EAAE,CAACO,YAAH,CAAgB,MAAhB,EAAwB9D,aAAa,CAACiF,KAAtC,CAAxC;;AACA,YAAI/B,SAAS,KAAK,IAAd,IAAsBA,SAAS,KAAK,KAAK,CAAzC,GAA6C,KAAK,CAAlD,GAAsDA,SAAS,CAACH,KAApE,EAA2E;AACvEG,UAAAA,SAAS,CAACH,KAAV,CAAgBQ,EAAhB;AACH;;AACD;AAlBR;AAoBH,GArBD;;AAsBAX,EAAAA,IAAI,CAACrC,SAAL,CAAe6D,aAAf,GAA+B,UAAUb,EAAV,EAAc;AACzC,WAAO,KAAKJ,OAAL,CAAa/B,GAAb,CAAiBmC,EAAjB,CAAP;AACH,GAFD;;AAGA,SAAOX,IAAP;AACH,CAzNyB,EAA1B;;AA2NA,IAAIuD,KAAK,GAAG;AACR;AACJ;AACA;AACA;AACA;AACA;AACIC,EAAAA,OAAO,EAAE,UAAUC,GAAV,EAAexD,OAAf,EAAwB;AAC7B,QAAIyD,IAAI,GAAG,IAAI1D,IAAJ,CAASC,OAAT,CAAX;AACAwD,IAAAA,GAAG,CAAChD,MAAJ,CAAWkD,gBAAX,CAA4BC,SAA5B,GAAwCF,IAAxC;AACAD,IAAAA,GAAG,CAACI,OAAJ,CAAY,UAAZ,EAAwBH,IAAxB;AACAD,IAAAA,GAAG,CAACK,SAAJ,CAAc,MAAd,EAAsB;AAClBC,MAAAA,OAAO,EAAEL,IAAI,CAAChD,KAAL,CAAWsD,IAAX,CAAgBN,IAAhB,CADS;AAElBO,MAAAA,OAAO,EAAEP,IAAI,CAACnC,MAAL,CAAYyC,IAAZ,CAAiBN,IAAjB,CAFS;AAGlBQ,MAAAA,SAAS,EAAER,IAAI,CAAChC,OAAL,CAAasC,IAAb,CAAkBN,IAAlB;AAHO,KAAtB;AAKH;AAhBO,CAAZ;AAmBA,SAASH,KAAK,IAAIY,OAAlB","sourcesContent":["/*!\n * Vue3-Lazyload.js v0.2.5-beta\n * A Vue3.x image lazyload plugin\n * (c) 2021 MuRong <admin@imuboy.cn>\n * Released under the MIT License.\n */\nvar LifecycleEnum;\n(function (LifecycleEnum) {\n    LifecycleEnum[\"LOADING\"] = \"loading\";\n    LifecycleEnum[\"LOADED\"] = \"loaded\";\n    LifecycleEnum[\"ERROR\"] = \"error\";\n})(LifecycleEnum || (LifecycleEnum = {}));\n\n/* eslint-disable @typescript-eslint/explicit-module-boundary-types */\nvar inBrowser = typeof window !== 'undefined' && window !== null;\nvar hasIntersectionObserver = checkIntersectionObserver();\nvar isEnumerable = Object.prototype.propertyIsEnumerable;\nvar getSymbols = Object.getOwnPropertySymbols;\n/**\n * is object\n *\n * @param {*} val\n * @returns {boolean}\n */\nfunction isObject(val) {\n    return typeof val === 'function' || toString.call(val) === '[object Object]';\n}\n/**\n * is primitive\n *\n * @param {*} val\n * @returns {boolean}\n */\nfunction isPrimitive(val) {\n    return typeof val === 'object' ? val === null : typeof val !== 'function';\n}\n/**\n * check private key\n *\n * @export\n * @param {*} key\n * @returns {boolean}\n */\nfunction isValidKey(key) {\n    return key !== '__proto__' && key !== 'constructor' && key !== 'prototype';\n}\n/**\n * Check if IntersectionObserver can be used\n *\n * @returns {boolean}\n */\nfunction checkIntersectionObserver() {\n    if (inBrowser &&\n        'IntersectionObserver' in window &&\n        'IntersectionObserverEntry' in window &&\n        'intersectionRatio' in window.IntersectionObserverEntry.prototype) {\n        // Minimal polyfill for Edge 15's lack of `isIntersecting`\n        // See: https://github.com/w3c/IntersectionObserver/issues/211\n        if (!('isIntersecting' in window.IntersectionObserverEntry.prototype)) {\n            Object.defineProperty(window.IntersectionObserverEntry.prototype, 'isIntersecting', {\n                get: function () {\n                    return this.intersectionRatio > 0;\n                }\n            });\n        }\n        return true;\n    }\n    return false;\n}\n/**\n * Assign the enumerable es6 Symbol properties from one\n * or more objects to the first object passed on the arguments.\n * Can be used as a supplement to other extend, assign or\n * merge methods as a polyfill for the Symbols part of\n * the es6 Object.assign method.\n * https://github.com/jonschlinkert/assign-symbols\n *\n * @param {*} target\n * @param {...any[]} args\n * @returns\n */\nfunction assignSymbols(target) {\n    var args = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n        args[_i - 1] = arguments[_i];\n    }\n    if (!isObject(target)) {\n        throw new TypeError('expected the first argument to be an object');\n    }\n    if (args.length === 0 || typeof Symbol !== 'function' || typeof getSymbols !== 'function') {\n        return target;\n    }\n    for (var _a = 0, args_1 = args; _a < args_1.length; _a++) {\n        var arg = args_1[_a];\n        var names = getSymbols(arg);\n        for (var _b = 0, names_1 = names; _b < names_1.length; _b++) {\n            var key = names_1[_b];\n            if (isEnumerable.call(arg, key)) {\n                target[key] = arg[key];\n            }\n        }\n    }\n    return target;\n}\n/**\n * Deeply assign the values of all enumerable-own-properties and symbols\n * from one or more source objects to a target object. Returns the target object.\n * https://github.com/jonschlinkert/assign-deep\n *\n * @param {*} target\n * @param {...any[]} args\n * @returns\n */\nfunction assign(target) {\n    var args = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n        args[_i - 1] = arguments[_i];\n    }\n    var i = 0;\n    if (isPrimitive(target))\n        target = args[i++];\n    if (!target)\n        target = {};\n    for (; i < args.length; i++) {\n        if (isObject(args[i])) {\n            for (var _a = 0, _b = Object.keys(args[i]); _a < _b.length; _a++) {\n                var key = _b[_a];\n                if (isValidKey(key)) {\n                    if (isObject(target[key]) && isObject(args[i][key])) {\n                        assign(target[key], args[i][key]);\n                    }\n                    else {\n                        target[key] = args[i][key];\n                    }\n                }\n            }\n            assignSymbols(target, args[i]);\n        }\n    }\n    return target;\n}\n\n/* eslint-disable @typescript-eslint/explicit-module-boundary-types */\nvar DEFAULT_OBSERVER_OPTIONS = {\n    rootMargin: '0px',\n    threshold: 0\n};\nvar DEFAULT_LOADING = 'data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7';\nvar DEFAULT_ERROR = '';\n/**\n * Lazyload\n *\n * @export\n * @class Lazy\n */\nvar Lazy = /** @class */ (function () {\n    function Lazy(options) {\n        this.options = {\n            loading: DEFAULT_LOADING,\n            error: DEFAULT_ERROR,\n            observerOptions: DEFAULT_OBSERVER_OPTIONS,\n            log: true,\n            lifecycle: {}\n        };\n        this._images = new WeakMap();\n        this.config(options);\n    }\n    /**\n     * merge config\n     *\n     * @param {*} [options={}]\n     * @memberof Lazy\n     */\n    Lazy.prototype.config = function (options) {\n        if (options === void 0) { options = {}; }\n        assign(this.options, options);\n    };\n    /**\n     * mount\n     *\n     * @param {HTMLElement} el\n     * @param {DirectiveBinding<string>} binding\n     * @memberof Lazy\n     */\n    Lazy.prototype.mount = function (el, binding) {\n        var _a = this._valueFormatter(binding.value), src = _a.src, loading = _a.loading, error = _a.error, lifecycle = _a.lifecycle;\n        this._lifecycle(LifecycleEnum.LOADING, lifecycle, el);\n        el.setAttribute('src', loading || DEFAULT_LOADING);\n        if (!hasIntersectionObserver) {\n            this.loadImages(el, src, error, lifecycle);\n            this._log(function () {\n                throw new Error('Not support IntersectionObserver!');\n            });\n        }\n        this._initIntersectionObserver(el, src, error, lifecycle);\n    };\n    /**\n     * update\n     *\n     * @param {HTMLElement} el\n     * @memberof Lazy\n     */\n    Lazy.prototype.update = function (el, binding) {\n        var _a;\n        (_a = this._realObserver(el)) === null || _a === void 0 ? void 0 : _a.unobserve(el);\n        var _b = this._valueFormatter(binding.value), src = _b.src, error = _b.error, lifecycle = _b.lifecycle;\n        this._initIntersectionObserver(el, src, error, lifecycle);\n    };\n    /**\n     * unmount\n     *\n     * @param {HTMLElement} el\n     * @memberof Lazy\n     */\n    Lazy.prototype.unmount = function (el) {\n        var _a;\n        (_a = this._realObserver(el)) === null || _a === void 0 ? void 0 : _a.unobserve(el);\n        this._images.delete(el);\n    };\n    /**\n     * force loading\n     *\n     * @param {HTMLElement} el\n     * @param {string} src\n     * @memberof Lazy\n     */\n    Lazy.prototype.loadImages = function (el, src, error, lifecycle) {\n        this._setImageSrc(el, src, error, lifecycle);\n    };\n    /**\n     * set img tag src\n     *\n     * @private\n     * @param {HTMLElement} el\n     * @param {string} src\n     * @memberof Lazy\n     */\n    Lazy.prototype._setImageSrc = function (el, src, error, lifecycle) {\n        var _this = this;\n        if ('img' === el.tagName.toLowerCase()) {\n            if (src) {\n                var preSrc = el.getAttribute('src');\n                if (preSrc !== src) {\n                    el.setAttribute('src', src);\n                }\n            }\n            this._listenImageStatus(el, function () {\n                _this._lifecycle(LifecycleEnum.LOADED, lifecycle, el);\n            }, function () {\n                var _a;\n                // Fix onload trigger twice, clear onload event\n                // Reload on update\n                el.onload = null;\n                _this._lifecycle(LifecycleEnum.ERROR, lifecycle, el);\n                (_a = _this._realObserver(el)) === null || _a === void 0 ? void 0 : _a.disconnect();\n                if (error)\n                    el.setAttribute('src', error);\n                _this._log(function () { throw new Error('Image failed to load!'); });\n            });\n        }\n        else {\n            el.style.backgroundImage = 'url(\\'' + src + '\\')';\n        }\n    };\n    /**\n     * init IntersectionObserver\n     *\n     * @private\n     * @param {HTMLElement} el\n     * @param {string} src\n     * @memberof Lazy\n     */\n    Lazy.prototype._initIntersectionObserver = function (el, src, error, lifecycle) {\n        var _this = this;\n        var _a;\n        var observerOptions = this.options.observerOptions;\n        this._images.set(el, new IntersectionObserver(function (entries) {\n            Array.prototype.forEach.call(entries, function (entry) {\n                var _a;\n                if (entry.isIntersecting) {\n                    (_a = _this._realObserver(el)) === null || _a === void 0 ? void 0 : _a.unobserve(entry.target);\n                    _this._setImageSrc(el, src, error, lifecycle);\n                }\n            });\n        }, observerOptions));\n        (_a = this._realObserver(el)) === null || _a === void 0 ? void 0 : _a.observe(el);\n    };\n    /**\n     * only listen to image status\n     *\n     * @private\n     * @param {string} src\n     * @param {(string | null)} cors\n     * @param {() => void} success\n     * @param {() => void} error\n     * @memberof Lazy\n     */\n    Lazy.prototype._listenImageStatus = function (image, success, error) {\n        image.onload = success;\n        image.onerror = error;\n    };\n    /**\n     * to do it differently for object and string\n     *\n     * @public\n     * @param {(ValueFormatterObject | string)} value\n     * @returns {*}\n     * @memberof Lazy\n     */\n    Lazy.prototype._valueFormatter = function (value) {\n        var src = value;\n        var loading = this.options.loading;\n        var error = this.options.error;\n        var lifecycle = this.options.lifecycle;\n        if (isObject(value)) {\n            src = value.src;\n            loading = value.loading || this.options.loading;\n            error = value.error || this.options.error;\n            lifecycle = (value.lifecycle || this.options.lifecycle);\n        }\n        return {\n            src: src,\n            loading: loading,\n            error: error,\n            lifecycle: lifecycle\n        };\n    };\n    /**\n     * log\n     *\n     * @param {() => void} callback\n     * @memberof Lazy\n     */\n    Lazy.prototype._log = function (callback) {\n        if (this.options.log) {\n            callback();\n        }\n    };\n    /**\n     * lifecycle easy\n     *\n     * @private\n     * @param {LifecycleEnum} life\n     * @param {Lifecycle} [lifecycle]\n     * @memberof Lazy\n     */\n    Lazy.prototype._lifecycle = function (life, lifecycle, el) {\n        switch (life) {\n            case LifecycleEnum.LOADING:\n                el === null || el === void 0 ? void 0 : el.setAttribute('lazy', LifecycleEnum.LOADING);\n                if (lifecycle === null || lifecycle === void 0 ? void 0 : lifecycle.loading) {\n                    lifecycle.loading(el);\n                }\n                break;\n            case LifecycleEnum.LOADED:\n                el === null || el === void 0 ? void 0 : el.setAttribute('lazy', LifecycleEnum.LOADED);\n                if (lifecycle === null || lifecycle === void 0 ? void 0 : lifecycle.loaded) {\n                    lifecycle.loaded(el);\n                }\n                break;\n            case LifecycleEnum.ERROR:\n                el === null || el === void 0 ? void 0 : el.setAttribute('lazy', LifecycleEnum.ERROR);\n                if (lifecycle === null || lifecycle === void 0 ? void 0 : lifecycle.error) {\n                    lifecycle.error(el);\n                }\n                break;\n        }\n    };\n    Lazy.prototype._realObserver = function (el) {\n        return this._images.get(el);\n    };\n    return Lazy;\n}());\n\nvar index = {\n    /**\n     * install plugin\n     *\n     * @param {App} Vue\n     * @param {LazyOptions} options\n     */\n    install: function (Vue, options) {\n        var lazy = new Lazy(options);\n        Vue.config.globalProperties.$Lazyload = lazy;\n        Vue.provide('Lazyload', lazy);\n        Vue.directive('lazy', {\n            mounted: lazy.mount.bind(lazy),\n            updated: lazy.update.bind(lazy),\n            unmounted: lazy.unmount.bind(lazy)\n        });\n    }\n};\n\nexport { index as default };\n"]},"metadata":{},"sourceType":"module"}