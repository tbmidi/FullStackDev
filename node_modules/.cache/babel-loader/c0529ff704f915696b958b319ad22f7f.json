{"ast":null,"code":"import { ref, reactive } from 'vue';\nimport { useStore } from 'vuex';\nimport { useRouter } from 'vue-router';\nimport Swal from 'sweetalert2';\nexport default {\n  setup() {\n    const user = reactive({\n      email: '',\n      password: ''\n    });\n    const validation = ref([]);\n    const store = useStore();\n    const router = useRouter();\n\n    const login = () => {\n      let email = user.email;\n      let password = user.password;\n      Swal.fire({\n        title: 'Loading...',\n        text: 'Silahkan tunggu beberapa saat!',\n        icon: \"info\",\n        allowEscapeKey: false,\n        allowOutsideClick: false,\n        didOpen: () => {\n          Swal.showLoading();\n        }\n      });\n      store.dispatch('auth/login', {\n        email,\n        password\n      }).then(() => {\n        Swal.close();\n        router.push({\n          name: 'dashboard'\n        });\n        Swal.fire({\n          title: \"Success\",\n          text: \"Login berhasill.\",\n          icon: \"success\",\n          showConfirmButton: false,\n          timer: 1500\n        });\n      }).catch(error => {\n        Swal.close();\n        validation.value = error;\n      });\n    };\n\n    return {\n      user,\n      validation,\n      login\n    };\n  }\n\n};","map":{"version":3,"mappings":"AAuEA,SAASA,GAAT,EAAcC,QAAd,QAA8B,KAA9B;AACA,SAASC,QAAT,QAAyB,MAAzB;AACA,SAASC,SAAT,QAA0B,YAA1B;AACA,OAAOC,IAAP,MAAiB,aAAjB;AAEA,eAAe;AACXC,OAAK,GAAG;AACJ,UAAMC,IAAG,GAAIL,QAAQ,CAAC;AAClBM,WAAK,EAAE,EADW;AAElBC,cAAQ,EAAE;AAFQ,KAAD,CAArB;AAKA,UAAMC,UAAS,GAAIT,GAAG,CAAC,EAAD,CAAtB;AAEA,UAAMU,KAAI,GAAIR,QAAQ,EAAtB;AAEA,UAAMS,MAAK,GAAIR,SAAS,EAAxB;;AAEA,UAAMS,KAAI,GAAI,MAAM;AAChB,UAAIL,KAAI,GAAID,IAAI,CAACC,KAAjB;AACA,UAAIC,QAAO,GAAIF,IAAI,CAACE,QAApB;AAEAJ,UAAI,CAACS,IAAL,CAAU;AACNC,aAAK,EAAE,YADD;AAENC,YAAI,EAAE,gCAFA;AAGNC,YAAI,EAAE,MAHA;AAINC,sBAAc,EAAE,KAJV;AAKNC,yBAAiB,EAAE,KALb;AAMNC,eAAO,EAAE,MAAM;AACXf,cAAI,CAACgB,WAAL;AACJ;AARM,OAAV;AAUAV,WAAK,CAACW,QAAN,CAAe,YAAf,EAA6B;AACzBd,aADyB;AAEzBC;AAFyB,OAA7B,EAIKc,IAJL,CAIU,MAAM;AACRlB,YAAI,CAACmB,KAAL;AACAZ,cAAM,CAACa,IAAP,CAAY;AAAEC,cAAI,EAAE;AAAR,SAAZ;AACArB,YAAI,CAACS,IAAL,CAAU;AACNC,eAAK,EAAE,SADD;AAENC,cAAI,EAAE,kBAFA;AAGNC,cAAI,EAAE,SAHA;AAINU,2BAAiB,EAAE,KAJb;AAKNC,eAAK,EAAE;AALD,SAAV;AAOH,OAdL,EAcOC,KAdP,CAcaC,KAAI,IAAK;AACdzB,YAAI,CAACmB,KAAL;AACAd,kBAAU,CAACqB,KAAX,GAAmBD,KAAnB;AACH,OAjBL;AAkBJ,KAhCA;;AAkCA,WAAO;AACHvB,UADG;AAEHG,gBAFG;AAGHG;AAHG,KAAP;AAKJ;;AApDW,CAAf","names":["ref","reactive","useStore","useRouter","Swal","setup","user","email","password","validation","store","router","login","fire","title","text","icon","allowEscapeKey","allowOutsideClick","didOpen","showLoading","dispatch","then","close","push","name","showConfirmButton","timer","catch","error","value"],"sourceRoot":"","sources":["/Users/benmehidilarbi/Desktop/online-shop-main/src/views/auth/Login.vue"],"sourcesContent":["<template>\n    <div class=\"container-fluid mb-5 mt-4\">\n        <div class=\"row justify-content-center\">\n            <div class=\"col-md-4\">\n                <div\n                    v-if=\"validation.message\"\n                    class=\"mt-2 alert alert-danger\"\n                >{{ validation.message }}</div>\n                <div class=\"card border-0 shadow rounded\">\n                    <div class=\"card-body\">\n                        <h4>Login</h4>\n                        <hr />\n                        <form @submit.prevent=\"login\">\n                            <div class=\"form-group\">\n                                <label>Email Address</label>\n                                <input\n                                    type=\"email\"\n                                    v-model=\"user.email\"\n                                    class=\"form-control\"\n                                    placeholder=\"Email Address\"\n                                />\n                            </div>\n                            <div\n                                v-if=\"validation.email\"\n                                class=\"mt-2 alert alert-danger\"\n                            >{{ validation.email[0] }}</div>\n                            <div class=\"form-group mt-3\">\n                                <label>Password</label>\n                                <input\n                                    type=\"password\"\n                                    v-model=\"user.password\"\n                                    class=\"form-control\"\n                                    placeholder=\"Password\"\n                                />\n                            </div>\n                            <div\n                                v-if=\"validation.password\"\n                                class=\"mt-2 alert alert-danger\"\n                            >{{ validation.password[0] }}</div>\n                            <div class=\"form-group form-check mt-3 mb-3\">\n                                <input\n                                    type=\"checkbox\"\n                                    class=\"form-check-input\"\n                                    id=\"exampleCheck1\"\n                                    style=\"cursor: pointer\"\n                                />\n                                <label\n                                    class=\"form-check-label\"\n                                    for=\"exampleCheck1\"\n                                    style=\"cursor: pointer\"\n                                >Remember me</label>\n                            </div>\n                            <button type=\"submit\" class=\"btn btn-primary w-100\">Login</button>\n                        </form>\n                    </div>\n                </div>\n                <div class=\"register mt-3 text-center\">\n                    <p>\n                        Belum punya akun ?\n                        <router-link\n                            :to=\"{ name: 'register' }\"\n                            class=\"text-decoration-none\"\n                        >Daftar Sekarang !</router-link>\n                    </p>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport { ref, reactive } from 'vue'\nimport { useStore } from 'vuex'\nimport { useRouter } from 'vue-router'\nimport Swal from 'sweetalert2'\n\nexport default {\n    setup() {\n        const user = reactive({\n            email: '',\n            password: ''\n        })\n\n        const validation = ref([])\n\n        const store = useStore()\n\n        const router = useRouter()\n\n        const login = () => {\n            let email = user.email\n            let password = user.password\n\n            Swal.fire({\n                title: 'Loading...',\n                text: 'Silahkan tunggu beberapa saat!',\n                icon: \"info\",\n                allowEscapeKey: false,\n                allowOutsideClick: false,\n                didOpen: () => {\n                    Swal.showLoading()\n                }\n            })\n            store.dispatch('auth/login', {\n                email,\n                password\n            })\n                .then(() => {\n                    Swal.close()\n                    router.push({ name: 'dashboard' })\n                    Swal.fire({\n                        title: \"Success\",\n                        text: \"Login berhasill.\",\n                        icon: \"success\",\n                        showConfirmButton: false,\n                        timer: 1500\n                    });\n                }).catch(error => {\n                    Swal.close()\n                    validation.value = error\n                })\n        }\n\n        return {\n            user,\n            validation,\n            login\n        }\n    }\n}\n</script>"]},"metadata":{},"sourceType":"module"}