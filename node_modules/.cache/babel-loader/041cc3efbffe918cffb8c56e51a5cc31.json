{"ast":null,"code":"import { createRouter, createWebHistory } from 'vue-router';\nimport store from '../store';\nconst routes = [{\n  path: '/register',\n  name: 'register',\n  component: () => import(\n  /* webpackChunkName: \"register\" */\n  '../views/auth/Register.vue'),\n  meta: {\n    hideForAuth: true\n  }\n}, {\n  path: '/login',\n  name: 'login',\n  component: () => import(\n  /* webpackChunkName: \"login\" */\n  '../views/auth/Login.vue'),\n  meta: {\n    hideForAuth: true\n  }\n}, {\n  path: '/customer/dashboard',\n  name: 'dashboard',\n  component: () => import(\n  /* webpackChunkName: \"dashboard\" */\n  '../views/dashboard/Index.vue'),\n  meta: {\n    requiresAuth: true\n  }\n}, {\n  path: '/customer/order',\n  name: 'order',\n  component: () => import(\n  /* webpackChunkName: \"order\" */\n  '../views/order/Index.vue'),\n  meta: {\n    requiresAuth: true\n  }\n}, {\n  path: '/customer/order/:snap_token',\n  name: 'detail_order',\n  component: () => import(\n  /* webpackChunkName: \"detail_order\" */\n  '../views/order/Show.vue'),\n  meta: {\n    requiresAuth: true\n  }\n}, {\n  path: '/',\n  name: 'home',\n  component: () => import(\n  /* webpackChunkName: \"home\" */\n  '../views/home/Index.vue')\n}, {\n  path: '/product/:slug',\n  name: 'detail_product',\n  component: () => import(\n  /* webpackChunkName: \"detail_product\" */\n  '../views/product/Show.vue')\n}, {\n  path: '/categories',\n  name: 'categories',\n  component: () => import(\n  /* webpackChunkName: \"category\" */\n  '../views/category/Index.vue')\n}, {\n  path: '/category/:slug',\n  name: 'detail_category',\n  component: () => import(\n  /* webpackChunkName: \"detail_category\" */\n  '../views/category/Show.vue')\n}, {\n  path: '/cart',\n  name: 'cart',\n  component: () => import(\n  /* webpackChunkName: \"cart\" */\n  '../views/cart/Index.vue'),\n  meta: {\n    requiresAuth: true\n  }\n}];\nconst router = createRouter({\n  history: createWebHistory(),\n  routes\n});\nrouter.beforeEach((to, from, next) => {\n  if (to.matched.some(record => record.meta.requiresAuth)) {\n    if (store.getters['auth/isLoggedIn']) {\n      next();\n      return;\n    }\n\n    next('/login');\n  } else if (to.matched.some(record => record.meta.hideForAuth)) {\n    if (!store.getters['auth/isLoggedIn']) {\n      next();\n      return;\n    }\n\n    next('/');\n  } else {\n    next();\n  }\n});\nexport default router;","map":{"version":3,"sources":["/Users/benmehidilarbi/Desktop/online-shop-main/src/router/index.js"],"names":["createRouter","createWebHistory","store","routes","path","name","component","meta","hideForAuth","requiresAuth","router","history","beforeEach","to","from","next","matched","some","record","getters"],"mappings":"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","sourcesContent":["import { createRouter, createWebHistory } from 'vue-router'\n\nimport store from '../store'\n\nconst routes = [{\n    path: '/register',\n    name: 'register',\n    component: () =>\n        import( /* webpackChunkName: \"register\" */ '../views/auth/Register.vue'),\n    meta: {\n        hideForAuth: true\n    }\n},\n{\n    path: '/login',\n    name: 'login',\n    component: () =>\n        import( /* webpackChunkName: \"login\" */ '../views/auth/Login.vue'),\n    meta: {\n        hideForAuth: true\n    }\n},\n{\n    path: '/customer/dashboard',\n    name: 'dashboard',\n    component: () =>\n        import( /* webpackChunkName: \"dashboard\" */ '../views/dashboard/Index.vue'),\n    meta: {\n        requiresAuth: true\n    }\n},\n{\n    path: '/customer/order',\n    name: 'order',\n    component: () =>\n        import( /* webpackChunkName: \"order\" */ '../views/order/Index.vue'),\n    meta: {\n        requiresAuth: true\n    }\n},\n{\n    path: '/customer/order/:snap_token',\n    name: 'detail_order',\n    component: () =>\n        import( /* webpackChunkName: \"detail_order\" */ '../views/order/Show.vue'),\n    meta: {\n        requiresAuth: true\n    }\n},\n{\n    path: '/',\n    name: 'home',\n    component: () =>\n        import( /* webpackChunkName: \"home\" */ '../views/home/Index.vue')\n},\n{\n    path: '/product/:slug',\n    name: 'detail_product',\n    component: () =>\n        import( /* webpackChunkName: \"detail_product\" */ '../views/product/Show.vue')\n},\n{\n    path: '/categories',\n    name: 'categories',\n    component: () =>\n        import( /* webpackChunkName: \"category\" */ '../views/category/Index.vue')\n},\n{\n    path: '/category/:slug',\n    name: 'detail_category',\n    component: () =>\n        import( /* webpackChunkName: \"detail_category\" */ '../views/category/Show.vue')\n},\n{\n    path: '/cart',\n    name: 'cart',\n    component: () =>\n        import( /* webpackChunkName: \"cart\" */ '../views/cart/Index.vue'),\n    meta: {\n        requiresAuth: true\n    }\n}\n]\n\nconst router = createRouter({\n    history: createWebHistory(),\n    routes\n})\n\nrouter.beforeEach((to, from, next) => {\n    if (to.matched.some(record => record.meta.requiresAuth)) {\n        if (store.getters['auth/isLoggedIn']) {\n            next()\n            return\n        }\n        next('/login')\n    } else if (to.matched.some(record => record.meta.hideForAuth)) {\n        if (!store.getters['auth/isLoggedIn']) {\n            next()\n            return\n        }\n        next('/')\n    } else {\n        next()\n    }\n})\n\nexport default router"]},"metadata":{},"sourceType":"module"}